# 网络流
## 基本概念与定义
![[Pasted image 20241229205503.png]]
## 最大流问题
### FordFulkerson算法
> 基于剩余网络和增广路径寻找最大流

![[Pasted image 20241229212737.png]]

> 在实现Ford Fulkerson算法的时候 有一个地方是可以优化一下的，原本我还傻傻的最后再这个图减去那个图，而且为了能够消除掉反向路径，反向路径还专门又是单独的一个容器，然后我发现这些都是无用功。 其实最后的答案不需要那么多冗余的步骤，在每找到一条简单路径后，给result += min_flow就行了。思路逻辑如下 
> 让我们来慢慢捋一下逻辑
> 1. 最终的结果是 s临界的几条边的权重之和 也就是wa之和
> 2. wa = wo - wr 就是原先的权重 减去最后的residual的权重 
> 3. 但是wr是怎么的来的呢 是靠一次次 减去min的来的, 也就是说 wr = wo - SUMmin，所以 wa = SUMmin
> 4. 那怎么确保减去的min 正好能剪到我们所要的边上呢（s邻接的边）
> 5. 这个很好理解 因为 每次减去min的时候 都是能找到augmenting path的时候，也就是必定会经过s附近几条边的时候
### Edmonds-karp算法/最短路径增广算法
> 在FordFulkerson算法基础上，使用最短路径算法寻找增广路径。该最大流算法相较于FordFulkerson算法实现了与最大流大小无关的复杂度。

该算法同时也是解决权值为1的**最小费用最大流问题**，在搜索最短路径中，使用BellmanFord算法/Dijkstra算法搜素带全图的最短路径，可以解决一般情况的最小费用最大流问题。
 ![[Pasted image 20241229212811.png]]
 ==注意寻找最短路径时，将剩余网络看做无权图==
### Dinic算法
> 基于层次图、阻塞流、增广路径的方法寻找capacity，进而计算流量

![[Pasted image 20241229211751.png]]

### 最大流最小割定理
![[Pasted image 20241229213245.png]]

![[Pasted image 20241229213353.png]]
![[Pasted image 20241229213339.png]]
![[Pasted image 20241229213310.png]]
# 匹配问题
> 对于一个无向图G=(V, E)，一个匹配是一个边的集合M, 使得对于所有顶点v来说，M中至多有一条边与其相连。匹配M的大小|M|，即M中边的条数，最大匹配问题就是在图G=(V,E)中找出|M|最大的集合M。
## 最大匹配算法
![[Pasted image 20241230151001.png]]
## 二分图最大匹配
### 基本概念
图G可以划分为两个顶点集合L, R。顶点集合内部没有边相连；G中每一个顶点都至少有一条边与之相连接。
### 最大流方法
增加超级源点与超级汇点，并将边的容量设置为1，即可将最大匹配问题转换为最大流问题，进而使用对应的算法求解。
![[Pasted image 20241230153123.png]]
### 匈牙利方法
#### 基本概念
1. 交替路径：从一个**未匹配点**出发，依次经过非匹配边、匹配边、非匹配边…形成的路径叫交替路。
2. 增广路径：从一个**未匹配点**出发，**走交替路**，如果途**径另一个未匹配点**（出发的点不算），则这条交替路称为增广路。（非匹配边比匹配边多1条）
#### 算法思想
> 通过不停地找增广路来增加匹配中的匹配边和匹配点。找不到增广路时，达到最大匹配（这是增广路定理）

![[Pasted image 20241230160749.png]]
![[Pasted image 20241230160806.png]]